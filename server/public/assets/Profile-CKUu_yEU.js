import{_ as U,c as u,o as i,m as L,a as s,b as P,w as v,n as w,p as B,g as _,q as y,f as x,d,s as q,t as f,v as T,e as E,h as R,x as j,j as J,F as z,y as G,u as K}from"./app-CEv5AtwB.js";import{a as k}from"./api-kRYMRPhP.js";import{G as Y}from"./Button-BA7JgBjB.js";const Z={name:"ProfileLogin",components:{GoldenButton:Y},props:{loading:Boolean},data(){return{formData:{email:"",password:"",rememberMe:!1}}},methods:{handleSubmit(){if(!this.formData.email.trim()||!this.formData.password.trim()){console.error("–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.formData.email)){console.error("–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email");return}this.$emit("login",{...this.formData})}}},Q={class:"auth-section"},X={class:"form-group"},H={class:"input-container"},W={class:"form-group"},$={class:"input-container"},ee={class:"form-options"},se={class:"checkbox-label"},te={class:"auth-footer"},re={class:"auth-switch"};function oe(l,e,a,n,t,r){const o=_("GoldenButton");return i(),u("div",Q,[e[13]||(e[13]=L('<div class="auth-header" data-v-04756a61><div class="logo-container" data-v-04756a61><div class="logo-icon" data-v-04756a61>Œ¶</div><h1 class="logo-text" data-v-04756a61>Golden Ratio</h1></div><h3 class="auth-title" data-v-04756a61>–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</h3><p class="welcome-text" data-v-04756a61>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –º–∏—Ä –∏—Å–∫—É—Å—Å—Ç–≤–∞</p></div>',1)),s("form",{onSubmit:e[3]||(e[3]=y((...c)=>r.handleSubmit&&r.handleSubmit(...c),["prevent"])),class:"auth-form"},[s("div",X,[s("div",H,[v(s("input",{"onUpdate:modelValue":e[0]||(e[0]=c=>t.formData.email=c),type:"email",autocomplete:"email",placeholder:" ",required:"",class:"form-input"},null,512),[[w,t.formData.email]]),e[5]||(e[5]=s("label",{class:"floating-label"},"Email",-1)),e[6]||(e[6]=s("div",{class:"input-icon"},"‚úâÔ∏è",-1))])]),s("div",W,[s("div",$,[v(s("input",{"onUpdate:modelValue":e[1]||(e[1]=c=>t.formData.password=c),type:"password",autocomplete:"current-password",placeholder:" ",required:"",class:"form-input"},null,512),[[w,t.formData.password]]),e[7]||(e[7]=s("label",{class:"floating-label"},"–ü–∞—Ä–æ–ª—å",-1)),e[8]||(e[8]=s("div",{class:"input-icon"},"üîí",-1))])]),s("div",ee,[s("label",se,[v(s("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=c=>t.formData.rememberMe=c)},null,512),[[B,t.formData.rememberMe]]),e[9]||(e[9]=s("span",{class:"custom-checkbox"},null,-1)),e[10]||(e[10]=s("span",{class:"checkbox-text"},"–ó–∞–ø–æ–º–Ω–∏—Ç—å –º–µ–Ω—è",-1))]),e[11]||(e[11]=s("a",{href:"#",class:"forgot-password"}," –ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å? ",-1))]),P(o,{type:"submit",text:a.loading?"–í—Ö–æ–¥...":"–í–æ–π—Ç–∏ ‚Üí",variant:"primary",class:"auth-button",disabled:a.loading},null,8,["text","disabled"])],32),s("div",te,[s("div",re,[e[12]||(e[12]=x(" –ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? ",-1)),s("a",{href:"#",onClick:e[4]||(e[4]=y(c=>l.$emit("switch-to-register"),["prevent"])),class:"switch-link"}," –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è ")])])])}const le=U(Z,[["render",oe],["__scopeId","data-v-04756a61"]]),ae={name:"ProfileRegister",props:{loading:Boolean},data(){return{formData:{email:"",password:"",confirmPassword:"",firstName:"",lastName:""},errors:{},message:"",messageType:"success"}},methods:{handleSubmit(){this.validateForm()&&this.$emit("register",{...this.formData})},validateForm(){this.errors={};let l=!0;return this.formData.email?this.isValidEmail(this.formData.email)||(this.errors.email="–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email",l=!1):(this.errors.email="Email –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω",l=!1),this.formData.password?this.formData.password.length<6&&(this.errors.password="–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤",l=!1):(this.errors.password="–ü–∞—Ä–æ–ª—å –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω",l=!1),this.formData.confirmPassword?this.formData.password!==this.formData.confirmPassword&&(this.errors.confirmPassword="–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç",l=!1):(this.errors.confirmPassword="–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ",l=!1),l},isValidEmail(l){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l)}}},ne={class:"auth-section"},ie={class:"form-group"},ue={key:0,class:"error-message"},de={class:"form-group"},me={key:0,class:"error-message"},ce={class:"form-group"},fe={key:0,class:"error-message"},he={class:"form-group"},pe={class:"form-group"},ge=["disabled"],ve={class:"auth-switch"};function we(l,e,a,n,t,r){return i(),u("div",ne,[e[13]||(e[13]=s("h3",null,"–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è",-1)),e[14]||(e[14]=s("p",{class:"welcome-text"},"–°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç –≤ Golden Ratio",-1)),s("form",{onSubmit:e[5]||(e[5]=y((...o)=>r.handleSubmit&&r.handleSubmit(...o),["prevent"])),class:"auth-form"},[s("div",ie,[e[7]||(e[7]=s("label",null,"Email",-1)),v(s("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>t.formData.email=o),type:"email",placeholder:"your@email.com",required:"",class:q(["form-input",{error:t.errors.email}])},null,2),[[w,t.formData.email]]),t.errors.email?(i(),u("span",ue,f(t.errors.email),1)):d("",!0)]),s("div",de,[e[8]||(e[8]=s("label",null,"–ü–∞—Ä–æ–ª—å",-1)),v(s("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>t.formData.password=o),type:"password",placeholder:"–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å",required:"",class:q(["form-input",{error:t.errors.password}])},null,2),[[w,t.formData.password]]),t.errors.password?(i(),u("span",me,f(t.errors.password),1)):d("",!0)]),s("div",ce,[e[9]||(e[9]=s("label",null,"–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å",-1)),v(s("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>t.formData.confirmPassword=o),type:"password",placeholder:"–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å",required:"",class:q(["form-input",{error:t.errors.confirmPassword}])},null,2),[[w,t.formData.confirmPassword]]),t.errors.confirmPassword?(i(),u("span",fe,f(t.errors.confirmPassword),1)):d("",!0)]),s("div",he,[e[10]||(e[10]=s("label",null,"–ò–º—è",-1)),v(s("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>t.formData.firstName=o),type:"text",placeholder:"–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è",class:"form-input"},null,512),[[w,t.formData.firstName]])]),s("div",pe,[e[11]||(e[11]=s("label",null,"–§–∞–º–∏–ª–∏—è",-1)),v(s("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>t.formData.lastName=o),type:"text",placeholder:"–í–≤–µ–¥–∏—Ç–µ –≤–∞—à—É —Ñ–∞–º–∏–ª–∏—é",class:"form-input"},null,512),[[w,t.formData.lastName]])]),s("button",{type:"submit",class:"auth-button",disabled:a.loading},f(a.loading?"–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è...":"–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è"),9,ge),t.message?(i(),u("div",{key:0,class:q(["message",t.messageType])},f(t.message),3)):d("",!0)],32),s("div",ve,[e[12]||(e[12]=x(" –£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? ",-1)),s("a",{href:"#",onClick:e[6]||(e[6]=y(o=>l.$emit("switch-to-login"),["prevent"])),class:"switch-link"},"–í–æ–π—Ç–∏")])])}const be=U(ae,[["render",we],["__scopeId","data-v-e9976473"]]);class ye{constructor(){this.baseURL="http://localhost:3000/api",console.log("Base URL for uploads:",this.baseURL),console.log("VITE_API_URL from env:",void 0)}async uploadFile(e,a="avatar",n={}){try{console.log("Starting file upload:",{fileName:e.name,fileSize:e.size,fileType:e.type,uploadType:a}),this.validateFile(e,a);const t=new FormData;a==="avatar"?t.append("avatar",e):t.append("file",e),t.append("type",a);let r=null;const o=localStorage.getItem("currentUser")||sessionStorage.getItem("currentUser");if(o)try{r=JSON.parse(o).token,console.log("Token extracted from currentUser:",r?"YES":"NO")}catch(p){console.error("Error parsing currentUser:",p)}console.log(" FormData contents for type:",a);for(let p of t.entries())console.log(p[0]+":",typeof p[1]=="object"?p[1].name||"File":p[1]);console.log("Token exists:",!!r),console.log("Checking token sources:"),console.log("localStorage token:",localStorage.getItem("token")),console.log("sessionStorage token:",sessionStorage.getItem("token")),console.log("localStorage currentUser:",localStorage.getItem("currentUser")),console.log("sessionStorage currentUser:",sessionStorage.getItem("currentUser")),console.log("Full URL:",`${this.baseURL}/upload`),console.log("Making request to:",`${this.baseURL}/upload`);const c=a==="avatar"?"/users/avatar":"/upload",g=await fetch(`${this.baseURL}${c}`,{method:"POST",headers:{Authorization:`Bearer ${r}`},body:t});console.log("Response status:",g.status);const S=g.headers.get("content-type");if(console.log("Response content-type:",S),!g.ok){let p;try{p=await g.json(),console.log("Server error details (upload):",p)}catch{const M=await g.text();throw console.error("Server returned text:",M.substring(0,500)),new Error(`Server error: ${g.status} ${g.statusText}`)}throw new Error(p.message||p.error||`–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: ${g.status}`)}if(!S||!S.includes("application/json")){const p=await g.text();throw console.error("Expected JSON but got:",p.substring(0,200)),new Error("Server returned non-JSON response")}const b=await g.json();return console.log("Upload successful:",b),b}catch(t){throw console.error("Upload error:",t),t}}async uploadAvatar(e,a){return this.uploadFile(e,"avatar",{userId:a})}async deleteFile(e,a="avatar"){try{let n=null;const t=localStorage.getItem("currentUser")||sessionStorage.getItem("currentUser");if(t)try{n=JSON.parse(t).token}catch(c){console.error("Error parsing currentUser:",c)}const r=a==="avatar"?"/users/avatar":"/upload",o=await fetch(`${this.baseURL}${r}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({fileUrl:e,type:a})});if(!o.ok){let c;try{throw c=await o.json(),console.log("Delete error details:",c),new Error(c.message||c.error||`–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è: ${o.status}`)}catch{const S=await o.text();throw console.error("Server returned text on delete:",S),new Error(`–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è: ${o.status} ${o.statusText}`)}}return await o.json()}catch(n){throw console.error("Delete file error:",n),n}}validateFile(e,a="avatar"){const n=this.getUploadConfig(a);if(e.size>n.maxSize)throw new Error(`–§–∞–π–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: ${n.maxSize/1024/1024}MB`);const t=e.name.split(".").pop().toLowerCase();if(!n.allowedTypes.includes(e.type)&&!n.allowedExtensions.includes(t))throw new Error(`–ù–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–π —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞. –†–∞–∑—Ä–µ—à–µ–Ω—ã: ${n.allowedExtensions.join(", ")}`)}getUploadConfig(e){const a={avatar:{maxSize:5242880,allowedTypes:["image/jpeg","image/png","image/webp"],allowedExtensions:["jpg","jpeg","png","webp"]},artwork:{maxSize:20971520,allowedTypes:["image/jpeg","image/png","image/webp","image/gif"],allowedExtensions:["jpg","jpeg","png","webp","gif"]}};return a[e]||a.avatar}createImagePreview(e,a=300,n=300){return new Promise((t,r)=>{const o=new FileReader,c=new Image,g=document.createElement("canvas"),S=g.getContext("2d");o.onload=b=>{c.onload=()=>{let{width:p,height:C}=c;p>C?p>a&&(C*=a/p,p=a):C>n&&(p*=n/C,C=n),g.width=p,g.height=C,S.drawImage(c,0,0,p,C),t(g.toDataURL("image/jpeg",.8))},c.onerror=r,c.src=b.target.result},o.onerror=r,o.readAsDataURL(e)})}}const I=new ye,Ue={name:"ProfileAvatar",props:{user:{type:Object,required:!0}},data(){return{uploading:!1,previewUrl:null,selectedFile:null,error:null}},computed:{userInitials(){const l=this.user.first_name?this.user.first_name[0].toUpperCase():"",e=this.user.last_name?this.user.last_name[0].toUpperCase():"";return l+e||"?"}},methods:{triggerFileInput(){this.uploading||this.$refs.fileInput.click()},async handleFileSelect(l){const e=l.target.files[0];if(e)try{this.error=null,this.selectedFile=e,this.previewUrl=await I.createImagePreview(e,200,200)}catch(a){this.error=a.message,this.resetFileInput()}},async confirmUpload(){if(this.selectedFile){this.uploading=!0,this.error=null;try{const l=await I.uploadAvatar(this.selectedFile,this.user.id);console.log("Upload result:",l),this.$emit("avatar-updated",{avatar:l.avatar,user:this.user,forceUpdate:!0}),this.resetUpload()}catch(l){this.error=l.message}finally{this.uploading=!1}}},async deleteAvatar(){if(!(!this.user.avatar||!confirm("–£–¥–∞–ª–∏—Ç—å –∞–≤–∞—Ç–∞—Ä?"))){this.uploading=!0;try{await I.deleteFile(this.user.avatar,"avatar"),this.$emit("avatar-updated",{avatar:null,user:this.user,forceUpdate:!0})}catch(l){this.error=l.message}finally{this.uploading=!1}}},cancelUpload(){this.resetUpload()},resetUpload(){this.previewUrl=null,this.selectedFile=null,this.resetFileInput()},resetFileInput(){this.$refs.fileInput&&(this.$refs.fileInput.value="")}},emits:["avatar-updated"]},Se={class:"left-column"},_e={class:"avatar-section"},Ce=["src"],ke={key:1,class:"avatar-placeholder"},Ee={class:"placeholder-icon"},Pe={key:2,class:"upload-overlay"},qe={key:3,class:"preview-overlay"},Re=["src"],Me={class:"preview-actions"},Ie={class:"avatar-actions"},De=["disabled"],xe=["disabled"],Fe={key:0,class:"error-message"};function Ae(l,e,a,n,t,r){return i(),u("div",Se,[s("div",_e,[s("div",{class:"avatar-container",onClick:e[2]||(e[2]=(...o)=>r.triggerFileInput&&r.triggerFileInput(...o))},[a.user.avatar&&!t.previewUrl?(i(),u("img",{key:0,src:a.user.avatar,alt:"–ê–≤–∞—Ç–∞—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",class:"avatar"},null,8,Ce)):t.previewUrl?d("",!0):(i(),u("div",ke,[s("i",Ee,f(r.userInitials),1)])),t.uploading?(i(),u("div",Pe,[...e[6]||(e[6]=[s("div",{class:"spinner"},null,-1),s("span",null,"–ó–∞–≥—Ä—É–∑–∫–∞...",-1)])])):d("",!0),t.previewUrl?(i(),u("div",qe,[s("img",{src:t.previewUrl,alt:"Preview",class:"preview-image"},null,8,Re),s("div",Me,[s("button",{onClick:e[0]||(e[0]=y((...o)=>r.confirmUpload&&r.confirmUpload(...o),["stop"])),class:"confirm-btn"},"‚úì"),s("button",{onClick:e[1]||(e[1]=y((...o)=>r.cancelUpload&&r.cancelUpload(...o),["stop"])),class:"cancel-btn"},"‚úï")])])):d("",!0)]),s("input",{ref:"fileInput",type:"file",accept:"image/jpeg, image/png, image/webp",onChange:e[3]||(e[3]=(...o)=>r.handleFileSelect&&r.handleFileSelect(...o)),style:{display:"none"}},null,544),s("div",Ie,[s("button",{class:"upload-button",onClick:e[4]||(e[4]=(...o)=>r.triggerFileInput&&r.triggerFileInput(...o)),disabled:t.uploading},f(t.uploading?"–ó–∞–≥—Ä—É–∑–∫–∞...":"–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ"),9,De),a.user.avatar&&!t.uploading?(i(),u("button",{key:0,class:"delete-button",onClick:e[5]||(e[5]=(...o)=>r.deleteAvatar&&r.deleteAvatar(...o)),disabled:t.uploading}," –£–¥–∞–ª–∏—Ç—å —Ñ–æ—Ç–æ ",8,xe)):d("",!0)]),t.error?(i(),u("div",Fe,f(t.error),1)):d("",!0)])])}const Ve=U(Ue,[["render",Ae],["__scopeId","data-v-c45217de"]]),Oe={name:"ProfileDetailRow",props:{label:{type:String,required:!0},value:{type:[String,Number],default:""}}},Ne={class:"detail-row"},Le={class:"detail-label"};function Be(l,e,a,n,t,r){return i(),u("div",Ne,[s("span",Le,f(a.label),1),s("span",{class:q(["detail-value",{"empty-field":!a.value}])},f(a.value||"–ù–µ —É–∫–∞–∑–∞–Ω"),3)])}const Te=U(Oe,[["render",Be],["__scopeId","data-v-f0dc2879"]]),je={name:"RequestAccessModal",props:{isVisible:{type:Boolean,required:!0}},data(){return{form:{requestedRole:"",message:""},errors:{},submitting:!1}},methods:{async submitRequest(){if(this.validateForm()){this.submitting=!0;try{const l=await k.post("/access/requests",{requestedRole:this.form.requestedRole,message:this.form.message||null});this.$emit("request-submitted",l.data.request),this.closeModal(),this.$notify?this.$notify({title:"–ó–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞",text:"–í–∞—à–∞ –∑–∞—è–≤–∫–∞ –Ω–∞ –ø–æ–≤—ã—à–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É",type:"success"}):alert("–ó–∞—è–≤–∫–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!")}catch(l){console.error("Error submitting request:",l),l.response?.status===400?l.response.data?.error&&alert(l.response.data.error):alert("–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.")}finally{this.submitting=!1}}},validateForm(){this.errors={};let l=!0;return this.form.requestedRole||(this.errors.requestedRole="–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–ª—å",l=!1),l},formatRole(l){return{artist:"–•—É–¥–æ–∂–Ω–∏–∫",curator:"–ö—É—Ä–∞—Ç–æ—Ä"}[l]||l},closeModal(){this.submitting||this.$emit("close")}}},Je={class:"modal-content"},ze={class:"modal-header"},Ge={class:"modal-body"},Ke={class:"request-form"},Ye={class:"form-group"},Ze={key:0,class:"invalid-feedback"},Qe={class:"form-group"},Xe={key:0,class:"role-permissions"},He={class:"permissions-title"},We={class:"permissions-list"},$e={key:0},es={key:1},ss={key:2},ts={key:3},rs={key:4},os={key:5},ls={class:"modal-actions"},as=["disabled"],ns=["disabled"],is={key:0},us={key:1};function ds(l,e,a,n,t,r){return a.isVisible?(i(),u("div",{key:0,class:"modal-overlay",onClick:e[5]||(e[5]=y((...o)=>r.closeModal&&r.closeModal(...o),["self"]))},[s("div",Je,[s("div",ze,[e[6]||(e[6]=s("h3",{class:"modal-title"},"–ó–∞–ø—Ä–æ—Å –ø–æ–≤—ã—à–µ–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞",-1)),s("button",{class:"close-btn",onClick:e[0]||(e[0]=(...o)=>r.closeModal&&r.closeModal(...o))},"√ó")]),s("div",Ge,[s("div",Ke,[s("div",Ye,[e[8]||(e[8]=s("label",{for:"requestedRole",class:"form-label"}," –í—ã–±–µ—Ä–∏—Ç–µ –∂–µ–ª–∞–µ–º—É—é —Ä–æ–ª—å: ",-1)),v(s("select",{id:"requestedRole","onUpdate:modelValue":e[1]||(e[1]=o=>t.form.requestedRole=o),class:q(["form-select",{"is-invalid":t.errors.requestedRole}])},[...e[7]||(e[7]=[s("option",{value:""},"-- –í—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–ª—å --",-1),s("option",{value:"artist"},"–•—É–¥–æ–∂–Ω–∏–∫",-1),s("option",{value:"curator"},"–ö—É—Ä–∞—Ç–æ—Ä –≤—ã—Å—Ç–∞–≤–æ–∫",-1)])],2),[[T,t.form.requestedRole]]),t.errors.requestedRole?(i(),u("div",Ze,f(t.errors.requestedRole),1)):d("",!0)]),s("div",Qe,[e[9]||(e[9]=s("label",{for:"message",class:"form-label"}," –°–æ–æ–±—â–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ): ",-1)),v(s("textarea",{id:"message","onUpdate:modelValue":e[2]||(e[2]=o=>t.form.message=o),class:"form-textarea",rows:"4",placeholder:"–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ —Å–≤–æ–µ–º –æ–ø—ã—Ç–µ, –ø—Ä–∏—á–∏–Ω–∞—Ö –∑–∞–ø—Ä–æ—Å–∞..."},null,512),[[w,t.form.message]]),e[10]||(e[10]=s("div",{class:"form-hint"}," –≠—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–º–æ–∂–µ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –ø—Ä–∏–Ω—è—Ç—å —Ä–µ—à–µ–Ω–∏–µ ",-1))]),t.form.requestedRole?(i(),u("div",Xe,[s("h5",He,"–ü—Ä–∞–≤–∞ "+f(r.formatRole(t.form.requestedRole))+"–∞:",1),s("ul",We,[t.form.requestedRole==="artist"?(i(),u("li",$e," ‚Ä¢ –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –∫–∞—Ä—Ç–∏–Ω–∞–º–∏ ")):d("",!0),t.form.requestedRole==="artist"?(i(),u("li",es," ‚Ä¢ –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—ã—Å—Ç–∞–≤–æ–∫ –∏ —É—á–∞—Å—Ç–∏–µ –≤ –Ω–∏—Ö ")):d("",!0),t.form.requestedRole==="artist"?(i(),u("li",ss," ‚Ä¢ –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å–≤–æ–∏—Ö —Ä–∞–±–æ—Ç ")):d("",!0),t.form.requestedRole==="curator"?(i(),u("li",ts," ‚Ä¢ –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—ã—Å—Ç–∞–≤–∫–∞–º–∏ ")):d("",!0),t.form.requestedRole==="curator"?(i(),u("li",rs," ‚Ä¢ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ö—É–¥–æ–∂–Ω–∏–∫–∞–º–∏ –∏ –∫–∞—Ä—Ç–∏–Ω–∞–º–∏ –≤ –≤—ã—Å—Ç–∞–≤–∫–∞—Ö ")):d("",!0),t.form.requestedRole==="curator"?(i(),u("li",os," ‚Ä¢ –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç—á–µ—Ç–æ–≤ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏ ")):d("",!0)])])):d("",!0),s("div",ls,[s("button",{class:"btn-secondary",onClick:e[3]||(e[3]=(...o)=>r.closeModal&&r.closeModal(...o)),disabled:t.submitting}," –û—Ç–º–µ–Ω–∞ ",8,as),s("button",{class:"btn-primary",onClick:e[4]||(e[4]=(...o)=>r.submitRequest&&r.submitRequest(...o)),disabled:t.submitting||!t.form.requestedRole},[t.submitting?(i(),u("span",is,"–û—Ç–ø—Ä–∞–≤–∫–∞...")):(i(),u("span",us,"–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å"))],8,ns)])])])])])):d("",!0)}const ms=U(je,[["render",ds]]),cs={name:"AccessRequestButton",components:{RequestAccessModal:ms},props:{user:{type:Object,required:!0}},data(){return{showModal:!1}},methods:{closeModal(){this.showModal=!1},handleRequestSubmitted(l){this.$emit("request-submitted",l)}},emits:["request-submitted"]},fs={class:"access-request-button"};function hs(l,e,a,n,t,r){const o=_("RequestAccessModal");return i(),u("div",fs,[s("button",{class:"request-btn",onClick:e[0]||(e[0]=c=>t.showModal=!0)},[...e[1]||(e[1]=[s("span",{class:"btn-text"},"–ó–∞–ø—Ä–æ—Å–∏—Ç—å –ø–æ–≤—ã—à–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø",-1)])]),t.showModal?(i(),E(o,{key:0,"is-visible":t.showModal,onClose:r.closeModal,onRequestSubmitted:r.handleRequestSubmitted},null,8,["is-visible","onClose","onRequestSubmitted"])):d("",!0)])}const ps=U(cs,[["render",hs],["__scopeId","data-v-4ab5d576"]]),gs={name:"ProfileInfoPanel",components:{ProfileDetailRow:Te,AccessRequestButton:ps},props:{user:{type:Object,required:!0}},computed:{userRoleName(){return{1:"–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä",2:"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å",3:"–ö—É—Ä–∞—Ç–æ—Ä",4:"–•—É–¥–æ–∂–Ω–∏–∫"}[this.user.role_id]||this.user.role_name||"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å"},showAccessRequestButton(){return this.user.role_id===2}},methods:{formatDate(l){if(!l)return"";try{return new Date(l).toLocaleDateString("ru-RU")}catch{return"–ù–µ–≤–µ—Ä–Ω–∞—è –¥–∞—Ç–∞"}},handleRequestSubmitted(l){console.log("Access request submitted:",l),this.$emit("access-requested",l)}},emits:["edit-profile","access-requested"]},vs={class:"center-column"},ws={class:"info-panel"},bs={class:"user-details"},ys={class:"detail-row"},Us={class:"detail-value"},Ss={class:"detail-row"},_s={class:"detail-value email-with-status"},Cs={class:"detail-row"},ks={class:"detail-value"},Es={class:"detail-row"};function Ps(l,e,a,n,t,r){const o=_("ProfileDetailRow"),c=_("AccessRequestButton");return i(),u("div",vs,[s("div",ws,[e[5]||(e[5]=s("h3",{class:"panel-title"},"–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è",-1)),s("div",bs,[s("div",ys,[e[1]||(e[1]=s("span",{class:"detail-label"},"–õ–æ–≥–∏–Ω:",-1)),s("span",Us,f(a.user.username),1)]),P(o,{label:"–ò–º—è:",value:a.user.first_name},null,8,["value"]),P(o,{label:"–§–∞–º–∏–ª–∏—è:",value:a.user.last_name},null,8,["value"]),s("div",Ss,[e[2]||(e[2]=s("span",{class:"detail-label"},"Email:",-1)),s("span",_s,f(a.user.email),1)]),P(o,{label:"–¢–µ–ª–µ—Ñ–æ–Ω:",value:a.user.phone},null,8,["value"]),s("div",Cs,[e[3]||(e[3]=s("span",{class:"detail-label"},"–†–æ–ª—å –≤ —Å–∏—Å—Ç–µ–º–µ:",-1)),s("span",ks,f(r.userRoleName),1)]),s("div",Es,[e[4]||(e[4]=s("span",{class:"detail-label"},"–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:",-1)),s("span",{class:q(["detail-value",{"empty-field":!a.user.created_at}])},f(r.formatDate(a.user.created_at)||"–ù–µ —É–∫–∞–∑–∞–Ω–∞"),3)])]),r.showAccessRequestButton?(i(),E(c,{key:0,user:a.user,onRequestSubmitted:r.handleRequestSubmitted,class:"access-request-button"},null,8,["user","onRequestSubmitted"])):d("",!0),s("button",{class:"edit-button-primary",onClick:e[0]||(e[0]=g=>l.$emit("edit-profile"))}," –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å ")])])}const qs=U(gs,[["render",Ps],["__scopeId","data-v-4a6162ed"]]),Rs={name:"ChangePasswordModal",props:{isOpen:{type:Boolean,default:!1}},data(){return{form:{currentPassword:"",newPassword:"",confirmPassword:""},error:null,success:null,isSubmitting:!1}},computed:{isFormValid(){return this.form.currentPassword&&this.form.newPassword&&this.form.confirmPassword&&this.form.newPassword===this.form.confirmPassword&&this.form.newPassword.length>=6}},methods:{async handleSubmit(){if(!this.isFormValid){this.error="–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ";return}if(this.form.currentPassword===this.form.newPassword){this.error="–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –æ—Ç —Ç–µ–∫—É—â–µ–≥–æ";return}this.isSubmitting=!0,this.error=null,this.success=null;try{await this.$emit("submit",{currentPassword:this.form.currentPassword,newPassword:this.form.newPassword}),this.success="–ü–∞—Ä–æ–ª—å —É—Å–ø–µ—à–Ω–æ –∏–∑–º–µ–Ω–µ–Ω!",setTimeout(()=>{this.close()},2e3)}catch(l){this.error=l.message||"–û—à–∏–±–∫–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø–∞—Ä–æ–ª—è"}finally{this.isSubmitting=!1}},resetForm(){this.form={currentPassword:"",newPassword:"",confirmPassword:""},this.error=null,this.success=null},close(){this.resetForm(),this.$emit("close")}},watch:{isOpen(l){l||this.resetForm()}},emits:["close","submit"]},Ms={class:"form-group"},Is={class:"form-group"},Ds={class:"form-group"},xs={key:0,class:"error-message"},Fs={key:1,class:"success-message"},As={class:"modal-actions"},Vs=["disabled"];function Os(l,e,a,n,t,r){return a.isOpen?(i(),u("div",{key:0,class:"modal-overlay",onClick:e[6]||(e[6]=(...o)=>r.close&&r.close(...o))},[s("div",{class:"modal-content",onClick:e[5]||(e[5]=y(()=>{},["stop"]))},[e[11]||(e[11]=s("h3",{class:"modal-title"},"–ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è",-1)),s("form",{onSubmit:e[4]||(e[4]=y((...o)=>r.handleSubmit&&r.handleSubmit(...o),["prevent"])),class:"edit-form"},[s("div",Ms,[e[7]||(e[7]=s("label",{for:"currentPassword",class:"form-label"},"–¢–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å:",-1)),v(s("input",{id:"currentPassword","onUpdate:modelValue":e[0]||(e[0]=o=>t.form.currentPassword=o),type:"password",class:"form-input",placeholder:"–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å",required:""},null,512),[[w,t.form.currentPassword]])]),s("div",Is,[e[8]||(e[8]=s("label",{for:"newPassword",class:"form-label"},"–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å:",-1)),v(s("input",{id:"newPassword","onUpdate:modelValue":e[1]||(e[1]=o=>t.form.newPassword=o),type:"password",class:"form-input",placeholder:"–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å",required:"",minlength:"6"},null,512),[[w,t.form.newPassword]]),e[9]||(e[9]=s("small",{class:"form-hint"},"–ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤",-1))]),s("div",Ds,[e[10]||(e[10]=s("label",{for:"confirmPassword",class:"form-label"},"–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å:",-1)),v(s("input",{id:"confirmPassword","onUpdate:modelValue":e[2]||(e[2]=o=>t.form.confirmPassword=o),type:"password",class:"form-input",placeholder:"–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å",required:""},null,512),[[w,t.form.confirmPassword]])]),t.error?(i(),u("div",xs,f(t.error),1)):d("",!0),t.success?(i(),u("div",Fs,f(t.success),1)):d("",!0),s("div",As,[s("button",{type:"submit",class:"save-button",disabled:t.isSubmitting||!r.isFormValid},f(t.isSubmitting?"–ò–∑–º–µ–Ω–µ–Ω–∏–µ...":"–ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å"),9,Vs),s("button",{type:"button",onClick:e[3]||(e[3]=(...o)=>r.close&&r.close(...o)),class:"cancel-button"}," –û—Ç–º–µ–Ω–∞ ")])],32)])])):d("",!0)}const Ns=U(Rs,[["render",Os],["__scopeId","data-v-ddd95820"]]),Ls={name:"ChangeEmailModal",props:{isOpen:{type:Boolean,default:!1},currentEmail:{type:String,default:""}},data(){return{form:{newEmail:"",password:""},error:null,success:null,isSubmitting:!1}},computed:{isFormValid(){return this.form.newEmail&&this.form.password&&this.form.newEmail!==this.currentEmail}},methods:{async handleSubmit(){if(!this.isFormValid){this.error="–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è";return}if(this.form.newEmail===this.currentEmail){this.error="–ù–æ–≤—ã–π email –¥–æ–ª–∂–µ–Ω –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –æ—Ç —Ç–µ–∫—É—â–µ–≥–æ";return}this.isSubmitting=!0,this.error=null,this.success=null;try{await this.$emit("submit",{email:this.form.newEmail,password:this.form.password}),this.success="Email —É—Å–ø–µ—à–Ω–æ –∏–∑–º–µ–Ω–µ–Ω!",setTimeout(()=>{this.close()},2e3)}catch(l){this.error=l.message||"–û—à–∏–±–∫–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ email"}finally{this.isSubmitting=!1}},resetForm(){this.form={newEmail:"",password:""},this.error=null,this.success=null},close(){this.resetForm(),this.$emit("close")}},watch:{isOpen(l){l||this.resetForm()}},emits:["close","submit"]},Bs={class:"form-group"},Ts={class:"current-value"},js={class:"form-group"},Js={class:"form-group"},zs={key:0,class:"error-message"},Gs={key:1,class:"success-message"},Ks={class:"modal-actions"},Ys=["disabled"];function Zs(l,e,a,n,t,r){return a.isOpen?(i(),u("div",{key:0,class:"modal-overlay",onClick:e[5]||(e[5]=(...o)=>r.close&&r.close(...o))},[s("div",{class:"modal-content",onClick:e[4]||(e[4]=y(()=>{},["stop"]))},[e[9]||(e[9]=s("h3",{class:"modal-title"},"–ò–∑–º–µ–Ω–µ–Ω–∏–µ email",-1)),s("form",{onSubmit:e[3]||(e[3]=y((...o)=>r.handleSubmit&&r.handleSubmit(...o),["prevent"])),class:"edit-form"},[s("div",Bs,[e[6]||(e[6]=s("label",{for:"currentEmail",class:"form-label"},"–¢–µ–∫—É—â–∏–π email:",-1)),s("div",Ts,f(a.currentEmail),1)]),s("div",js,[e[7]||(e[7]=s("label",{for:"newEmail",class:"form-label"},"–ù–æ–≤—ã–π email:",-1)),v(s("input",{id:"newEmail","onUpdate:modelValue":e[0]||(e[0]=o=>t.form.newEmail=o),type:"email",class:"form-input",placeholder:"–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π email",required:""},null,512),[[w,t.form.newEmail]])]),s("div",Js,[e[8]||(e[8]=s("label",{for:"password",class:"form-label"},"–¢–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å:",-1)),v(s("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=o=>t.form.password=o),type:"password",class:"form-input",placeholder:"–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è",required:""},null,512),[[w,t.form.password]])]),t.error?(i(),u("div",zs,f(t.error),1)):d("",!0),t.success?(i(),u("div",Gs,f(t.success),1)):d("",!0),s("div",Ks,[s("button",{type:"submit",class:"save-button",disabled:t.isSubmitting||!r.isFormValid},f(t.isSubmitting?"–ò–∑–º–µ–Ω–µ–Ω–∏–µ...":"–ò–∑–º–µ–Ω–∏—Ç—å email"),9,Ys),s("button",{type:"button",onClick:e[2]||(e[2]=(...o)=>r.close&&r.close(...o)),class:"cancel-button"}," –û—Ç–º–µ–Ω–∞ ")])],32)])])):d("",!0)}const Qs=U(Ls,[["render",Zs],["__scopeId","data-v-9550ec46"]]),Xs={name:"ChangeUsernameModal",props:{isOpen:{type:Boolean,default:!1},currentUsername:{type:String,default:""}},data(){return{form:{newUsername:"",password:""},error:null,success:null,isSubmitting:!1}},computed:{isFormValid(){const l=/^[a-zA-Z0-9_]+$/;return this.form.newUsername&&this.form.password&&this.form.newUsername.length>=3&&this.form.newUsername.length<=30&&l.test(this.form.newUsername)&&this.form.newUsername!==this.currentUsername}},methods:{async handleSubmit(){if(!this.isFormValid){this.error="–õ–æ–≥–∏–Ω –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –æ—Ç 3 –¥–æ 30 —Å–∏–º–≤–æ–ª–æ–≤ (—Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã –∏ _)";return}if(this.form.newUsername===this.currentUsername){this.error="–ù–æ–≤—ã–π –ª–æ–≥–∏–Ω –¥–æ–ª–∂–µ–Ω –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –æ—Ç —Ç–µ–∫—É—â–µ–≥–æ";return}this.isSubmitting=!0,this.error=null,this.success=null;try{await this.$emit("submit",{username:this.form.newUsername,password:this.form.password}),this.success="–õ–æ–≥–∏–Ω —É—Å–ø–µ—à–Ω–æ –∏–∑–º–µ–Ω–µ–Ω!",setTimeout(()=>{this.close()},2e3)}catch(l){this.error=l.message||"–û—à–∏–±–∫–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ª–æ–≥–∏–Ω–∞"}finally{this.isSubmitting=!1}},resetForm(){this.form={newUsername:"",password:""},this.error=null,this.success=null},close(){this.resetForm(),this.$emit("close")}},watch:{isOpen(l){l||this.resetForm()}},emits:["close","submit"]},Hs={class:"form-group"},Ws={class:"current-value"},$s={class:"form-group"},et={class:"form-group"},st={key:0,class:"error-message"},tt={key:1,class:"success-message"},rt={class:"modal-actions"},ot=["disabled"];function lt(l,e,a,n,t,r){return a.isOpen?(i(),u("div",{key:0,class:"modal-overlay",onClick:e[5]||(e[5]=(...o)=>r.close&&r.close(...o))},[s("div",{class:"modal-content",onClick:e[4]||(e[4]=y(()=>{},["stop"]))},[e[10]||(e[10]=s("h3",{class:"modal-title"},"–ò–∑–º–µ–Ω–µ–Ω–∏–µ –ª–æ–≥–∏–Ω–∞",-1)),s("form",{onSubmit:e[3]||(e[3]=y((...o)=>r.handleSubmit&&r.handleSubmit(...o),["prevent"])),class:"edit-form"},[s("div",Hs,[e[6]||(e[6]=s("label",{for:"currentUsername",class:"form-label"},"–¢–µ–∫—É—â–∏–π –ª–æ–≥–∏–Ω:",-1)),s("div",Ws,f(a.currentUsername),1)]),s("div",$s,[e[7]||(e[7]=s("label",{for:"newUsername",class:"form-label"},"–ù–æ–≤—ã–π –ª–æ–≥–∏–Ω:",-1)),v(s("input",{id:"newUsername","onUpdate:modelValue":e[0]||(e[0]=o=>t.form.newUsername=o),type:"text",class:"form-input",placeholder:"–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ª–æ–≥–∏–Ω",required:"",minlength:"3",maxlength:"30"},null,512),[[w,t.form.newUsername]]),e[8]||(e[8]=s("small",{class:"form-hint"},"–û—Ç 3 –¥–æ 30 —Å–∏–º–≤–æ–ª–æ–≤, —Ç–æ–ª—å–∫–æ –ª–∞—Ç–Ω—Å–∫–∏–µ –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã –∏ _",-1))]),s("div",et,[e[9]||(e[9]=s("label",{for:"password",class:"form-label"},"–¢–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å:",-1)),v(s("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=o=>t.form.password=o),type:"password",class:"form-input",placeholder:"–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è",required:""},null,512),[[w,t.form.password]])]),t.error?(i(),u("div",st,f(t.error),1)):d("",!0),t.success?(i(),u("div",tt,f(t.success),1)):d("",!0),s("div",rt,[s("button",{type:"submit",class:"save-button",disabled:t.isSubmitting||!r.isFormValid},f(t.isSubmitting?"–ò–∑–º–µ–Ω–µ–Ω–∏–µ...":"–ò–∑–º–µ–Ω–∏—Ç—å –ª–æ–≥–∏–Ω"),9,ot),s("button",{type:"button",onClick:e[2]||(e[2]=(...o)=>r.close&&r.close(...o)),class:"cancel-button"}," –û—Ç–º–µ–Ω–∞ ")])],32)])])):d("",!0)}const at=U(Xs,[["render",lt],["__scopeId","data-v-b78eac7b"]]),nt={name:"DeleteAccountModal",props:{isOpen:{type:Boolean,default:!1},currentEmail:{type:String,default:""}},data(){return{form:{email:"",password:"",confirmation:""},error:null,isSubmitting:!1}},computed:{isFormValid(){return this.form.email&&this.form.password&&this.form.confirmation==="–£–î–ê–õ–ò–¢–¨"&&this.form.email===this.currentEmail}},methods:{async handleSubmit(){if(!this.isFormValid){this.error="–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ";return}if(this.form.email!==this.currentEmail){this.error="–í–≤–µ–¥–µ–Ω–Ω—ã–π email –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –≤–∞—à–∏–º email";return}if(this.form.confirmation!=="–£–î–ê–õ–ò–¢–¨"){this.error='–í–≤–µ–¥–∏—Ç–µ "–£–î–ê–õ–ò–¢–¨" –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è';return}this.isSubmitting=!0,this.error=null;try{await this.$emit("submit",{email:this.form.email,password:this.form.password})}catch(l){this.error=l.message||"–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∞–∫–∫–∞—É–Ω—Ç–∞"}finally{this.isSubmitting=!1}},resetForm(){this.form={email:"",password:"",confirmation:""},this.error=null},close(){this.resetForm(),this.$emit("close")}},watch:{isOpen(l){l||this.resetForm()}},emits:["close","submit"]},it={class:"form-group"},ut=["placeholder"],dt={class:"form-group"},mt={class:"form-group"},ct={key:0,class:"error-message"},ft={class:"modal-actions"},ht=["disabled"];function pt(l,e,a,n,t,r){return a.isOpen?(i(),u("div",{key:0,class:"modal-overlay",onClick:e[6]||(e[6]=(...o)=>r.close&&r.close(...o))},[s("div",{class:"modal-content",onClick:e[5]||(e[5]=y(()=>{},["stop"]))},[e[10]||(e[10]=s("h3",{class:"modal-title"},"–£–¥–∞–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞",-1)),e[11]||(e[11]=s("div",{class:"warning-message"},[s("strong",null,"‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ! –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ."),s("p",null,"–í—Å–µ –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ, –≤–∫–ª—é—á–∞—è –ø—Ä–æ—Ñ–∏–ª—å, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∏—Å—Ç–æ—Ä–∏—é, –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã –Ω–∞–≤—Å–µ–≥–¥–∞.")],-1)),s("form",{onSubmit:e[4]||(e[4]=y((...o)=>r.handleSubmit&&r.handleSubmit(...o),["prevent"])),class:"edit-form"},[s("div",it,[e[7]||(e[7]=s("label",{for:"email",class:"form-label"},"–î–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à email:",-1)),v(s("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=o=>t.form.email=o),type:"email",class:"form-input",placeholder:a.currentEmail,required:""},null,8,ut),[[w,t.form.email]])]),s("div",dt,[e[8]||(e[8]=s("label",{for:"password",class:"form-label"},"–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –ø–∞—Ä–æ–ª—å:",-1)),v(s("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=o=>t.form.password=o),type:"password",class:"form-input",placeholder:"–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å",required:""},null,512),[[w,t.form.password]])]),s("div",mt,[e[9]||(e[9]=s("label",{for:"confirmation",class:"form-label"},' –í–≤–µ–¥–∏—Ç–µ "–£–î–ê–õ–ò–¢–¨" –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è: ',-1)),v(s("input",{id:"confirmation","onUpdate:modelValue":e[2]||(e[2]=o=>t.form.confirmation=o),type:"text",class:"form-input",placeholder:'–í–≤–µ–¥–∏—Ç–µ "–£–î–ê–õ–ò–¢–¨"',required:""},null,512),[[w,t.form.confirmation]])]),t.error?(i(),u("div",ct,f(t.error),1)):d("",!0),s("div",ft,[s("button",{type:"submit",class:"delete-button",disabled:t.isSubmitting||!r.isFormValid},f(t.isSubmitting?"–£–¥–∞–ª–µ–Ω–∏–µ...":"–£–¥–∞–ª–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç"),9,ht),s("button",{type:"button",onClick:e[3]||(e[3]=(...o)=>r.close&&r.close(...o)),class:"cancel-button"}," –û—Ç–º–µ–Ω–∞ ")])],32)])])):d("",!0)}const gt=U(nt,[["render",pt],["__scopeId","data-v-100d4fe6"]]),vt={name:"ProfileSecurityPanel",components:{ChangePasswordModal:Ns,ChangeEmailModal:Qs,ChangeUsernameModal:at,DeleteAccountModal:gt},props:{user:{type:Object,required:!0}},data(){return{showPasswordModal:!1,showEmailModal:!1,showLoginModal:!1,showDeleteAccountModal:!1}},computed:{currentEmail(){return this.user?.email||""},currentUsername(){return this.user?.username||""}},methods:{openChangeLogin(){this.showLoginModal=!0},openChangePassword(){this.showPasswordModal=!0},openChangeEmail(){this.showEmailModal=!0},closeModals(){this.showPasswordModal=!1,this.showEmailModal=!1,this.showLoginModal=!1,this.showDeleteAccountModal=!1},async handleDeleteAccount(l){try{await this.$emit("delete-account",l)}catch(e){throw e}},openDeleteAccount(){this.showDeleteAccountModal=!0},async handleChangePassword(l){try{await this.$emit("change-password",l)}catch(e){throw e}},async handleChangeEmail(l){try{await this.$emit("change-email",l)}catch(e){throw e}},async handleChangeUsername(l){try{await this.$emit("change-username",l)}catch(e){throw e}}},emits:["logout","change-password","change-email","change-username","delete-account"]},wt={class:"right-column"},bt={class:"security-panel"},yt={class:"security-actions"};function Ut(l,e,a,n,t,r){const o=_("ChangePasswordModal"),c=_("ChangeEmailModal"),g=_("ChangeUsernameModal"),S=_("DeleteAccountModal");return i(),u("div",wt,[s("div",bt,[e[5]||(e[5]=s("h3",{class:"panel-title"},"–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å",-1)),s("div",yt,[s("button",{class:"security-button",onClick:e[0]||(e[0]=(...b)=>r.openChangeLogin&&r.openChangeLogin(...b))}," –ò–∑–º–µ–Ω–∏—Ç—å –ª–æ–≥–∏–Ω "),s("button",{class:"security-button",onClick:e[1]||(e[1]=(...b)=>r.openChangePassword&&r.openChangePassword(...b))}," –ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å "),s("button",{class:"security-button",onClick:e[2]||(e[2]=(...b)=>r.openChangeEmail&&r.openChangeEmail(...b))}," –ò–∑–º–µ–Ω–∏—Ç—å email ")]),s("button",{class:"logout-button-outline",onClick:e[3]||(e[3]=b=>l.$emit("logout"))}," –í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞ "),s("button",{class:"delete-account-button",onClick:e[4]||(e[4]=(...b)=>r.openDeleteAccount&&r.openDeleteAccount(...b))}," –£–¥–∞–ª–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç ")]),t.showPasswordModal?(i(),E(o,{key:0,"is-open":t.showPasswordModal,onClose:r.closeModals,onSubmit:r.handleChangePassword},null,8,["is-open","onClose","onSubmit"])):d("",!0),t.showEmailModal?(i(),E(c,{key:1,"is-open":t.showEmailModal,"current-email":r.currentEmail,onClose:r.closeModals,onSubmit:r.handleChangeEmail},null,8,["is-open","current-email","onClose","onSubmit"])):d("",!0),t.showLoginModal?(i(),E(g,{key:2,"is-open":t.showLoginModal,"current-username":r.currentUsername,onClose:r.closeModals,onSubmit:r.handleChangeUsername},null,8,["is-open","current-username","onClose","onSubmit"])):d("",!0),t.showDeleteAccountModal?(i(),E(S,{key:3,"is-open":t.showDeleteAccountModal,"current-email":r.currentEmail,onClose:r.closeModals,onSubmit:r.handleDeleteAccount},null,8,["is-open","current-email","onClose","onSubmit"])):d("",!0)])}const St=U(vt,[["render",Ut],["__scopeId","data-v-b94d1794"]]),_t={name:"ProfileEditModal",props:{isEditing:{type:Boolean,default:!1},isSaving:{type:Boolean,default:!1},user:{type:Object,required:!0},editedUser:{type:Object,required:!0},hasChanges:{type:Boolean,default:!1}},data(){return{error:null}},methods:{saveChanges(){if(!this.hasChanges){this.$emit("cancel-editing");return}const l={first_name:this.editedUser.first_name,last_name:this.editedUser.last_name,phone:this.editedUser.phone};this.$emit("save-changes",l)},cancelEditing(){this.error=null,this.$emit("cancel-editing")}},emits:["save-changes","cancel-editing"]},Ct={class:"form-group"},kt={class:"form-group"},Et={class:"form-group"},Pt={key:0,class:"error-message"},qt={class:"modal-actions"},Rt=["disabled"];function Mt(l,e,a,n,t,r){return a.isEditing?(i(),u("div",{key:0,class:"modal-overlay",onClick:e[6]||(e[6]=(...o)=>r.cancelEditing&&r.cancelEditing(...o))},[s("div",{class:"modal-content",onClick:e[5]||(e[5]=y(()=>{},["stop"]))},[e[11]||(e[11]=s("h3",{class:"modal-title"},"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è",-1)),s("form",{onSubmit:e[4]||(e[4]=y((...o)=>r.saveChanges&&r.saveChanges(...o),["prevent"])),class:"edit-form"},[s("div",Ct,[e[7]||(e[7]=s("label",{for:"first_name",class:"form-label"},"–ò–º—è:",-1)),v(s("input",{id:"first_name","onUpdate:modelValue":e[0]||(e[0]=o=>a.editedUser.first_name=o),type:"text",class:"form-input",placeholder:"–í–≤–µ–¥–∏—Ç–µ –∏–º—è"},null,512),[[w,a.editedUser.first_name]])]),s("div",kt,[e[8]||(e[8]=s("label",{for:"last_name",class:"form-label"},"–§–∞–º–∏–ª–∏—è:",-1)),v(s("input",{id:"last_name","onUpdate:modelValue":e[1]||(e[1]=o=>a.editedUser.last_name=o),type:"text",class:"form-input",placeholder:"–í–≤–µ–¥–∏—Ç–µ —Ñ–∞–º–∏–ª–∏—é"},null,512),[[w,a.editedUser.last_name]])]),s("div",Et,[e[9]||(e[9]=s("label",{for:"phone",class:"form-label"},"–¢–µ–ª–µ—Ñ–æ–Ω:",-1)),v(s("input",{id:"phone","onUpdate:modelValue":e[2]||(e[2]=o=>a.editedUser.phone=o),type:"tel",class:"form-input",placeholder:"+7 (999) 123-45-67"},null,512),[[w,a.editedUser.phone]])]),e[10]||(e[10]=s("div",{class:"info-note"},[s("p",null,[s("strong",null,"–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:")]),s("ul",null,[s("li",null,'–õ–æ–≥–∏–Ω, Email –∏ –ü–∞—Ä–æ–ª—å –∏–∑–º–µ–Ω—è–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ —á–µ—Ä–µ–∑ "–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å"')])],-1)),t.error?(i(),u("div",Pt,f(t.error),1)):d("",!0),s("div",qt,[s("button",{type:"submit",class:"save-button",disabled:a.isSaving||!a.hasChanges},f(a.isSaving?"–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...":"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è"),9,Rt),s("button",{type:"button",onClick:e[3]||(e[3]=(...o)=>r.cancelEditing&&r.cancelEditing(...o)),class:"cancel-button"}," –û—Ç–º–µ–Ω–∞ ")])],32)])])):d("",!0)}const It=U(_t,[["render",Mt],["__scopeId","data-v-67f37f17"]]),Dt={name:"ProfileUserInfo",components:{ProfileAvatar:Ve,ProfileInfoPanel:qs,ProfileSecurityPanel:St,ProfileEditModal:It},props:{user:{type:Object,required:!0}},data(){return{isEditing:!1,isSaving:!1,editedUser:{username:"",first_name:"",last_name:"",phone:"",email:""}}},computed:{hasChanges(){return this.editedUser.first_name!==(this.user.first_name||"")||this.editedUser.last_name!==(this.user.last_name||"")||this.editedUser.phone!==(this.user.phone||"")||this.editedUser.email!==(this.user.email||"")}},methods:{enableEditing(){this.editedUser={first_name:this.user.first_name||"",last_name:this.user.last_name||"",phone:this.user.phone||""},this.isEditing=!0},cancelEditing(){this.isEditing=!1,this.isSaving=!1},async saveChanges(){if(!this.hasChanges){this.isEditing=!1;return}this.isSaving=!0;try{console.log("Emitting update-user with data:",this.editedUser),await this.$emit("update-user",this.editedUser),this.isEditing=!1,console.log("Edit form closed")}catch(l){console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏:",l)}finally{this.isSaving=!1}},handleChangePassword(l){this.$emit("change-password",l)},handleChangeEmail(l){this.$emit("change-email",l)},handleChangeUsername(l){this.$emit("change-username",l)},handleAvatarUpdate({avatar:l}){console.log("handleAvatarUpdate received avatar:",l),this.$emit("update-user",{avatar:l})},handleDeleteAccount(l){this.$emit("delete-account",l)}},emits:["logout","update-user","change-password","change-email","change-username","delete-account"]},xt={class:"profile-content"};function Ft(l,e,a,n,t,r){const o=_("ProfileAvatar"),c=_("ProfileInfoPanel"),g=_("ProfileSecurityPanel"),S=_("ProfileEditModal"),b=_("DeleteAccountModal");return i(),u("div",xt,[P(o,{user:a.user,onAvatarUpdated:r.handleAvatarUpdate},null,8,["user","onAvatarUpdated"]),P(c,{user:a.user,onEditProfile:r.enableEditing},null,8,["user","onEditProfile"]),P(g,{user:a.user,onLogout:e[0]||(e[0]=p=>l.$emit("logout")),onChangePassword:r.handleChangePassword,onChangeEmail:r.handleChangeEmail,onChangeUsername:r.handleChangeUsername},null,8,["user","onChangePassword","onChangeEmail","onChangeUsername"]),P(S,{"is-editing":t.isEditing,"is-saving":t.isSaving,user:a.user,"edited-user":t.editedUser,"has-changes":r.hasChanges,onSaveChanges:r.saveChanges,onCancelEditing:r.cancelEditing},null,8,["is-editing","is-saving","user","edited-user","has-changes","onSaveChanges","onCancelEditing"]),l.showDeleteAccountModal?(i(),E(b,{key:0,"is-open":l.showDeleteAccountModal,"current-email":l.currentEmail,onClose:l.closeModals,onSubmit:r.handleDeleteAccount},null,8,["is-open","current-email","onClose","onSubmit"])):d("",!0)])}const At=U(Dt,[["render",Ft],["__scopeId","data-v-831ac1ce"]]),Vt={__name:"Profile",setup(l){const e=G(),a=K(),n=R(null),t=R(!1),r=R(!1),o=R(Date.now()),c=()=>{e.query.form==="register"?t.value=!0:t.value=!1};j(()=>e.query,()=>{c()});const g=async()=>{const h=localStorage.getItem("currentUser")||sessionStorage.getItem("currentUser");if(h)try{n.value=JSON.parse(h),await D()}catch(m){console.error("Error loading saved user:",m),C()}else c()},S=async h=>{try{r.value=!0;const m=await k.login(h);console.log("After login - API token:",k.token?"SET":"NOT SET"),n.value=m.user||m.data,m.token&&(n.value.token=m.token),h.rememberMe?localStorage.setItem("currentUser",JSON.stringify(n.value)):sessionStorage.setItem("currentUser",JSON.stringify(n.value)),await D(),a.replace("/profile")}catch(m){throw new Error(m.message||"–ù–µ–≤–µ—Ä–Ω—ã–π email –∏–ª–∏ –ø–∞—Ä–æ–ª—å")}finally{r.value=!1}},b=async h=>{try{r.value=!0;const m=await k.register(h);return m.user&&(n.value=m.user,localStorage.setItem("currentUser",JSON.stringify(n.value)),a.replace("/profile")),m}catch(m){throw new Error(m.message||"–û—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏")}finally{r.value=!1}},p=async h=>{try{if(r.value=!0,h.avatar!==void 0&&Object.keys(h).length===1)return n.value={...n.value,avatar:h.avatar},localStorage.getItem("currentUser")?localStorage.setItem("currentUser",JSON.stringify(n.value)):sessionStorage.setItem("currentUser",JSON.stringify(n.value)),r.value=!1,{success:!0};const m=await k.updateUserProfile(h);return n.value={...n.value,...h,...m.user||m.data||m},localStorage.getItem("currentUser")?localStorage.setItem("currentUser",JSON.stringify(n.value)):sessionStorage.setItem("currentUser",JSON.stringify(n.value)),m}catch(m){throw new Error(m.message||"–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø—Ä–æ—Ñ–∏–ª—è")}finally{r.value=!1}},C=()=>{console.log("Clearing user data..."),n.value=null,localStorage.removeItem("currentUser"),sessionStorage.removeItem("currentUser"),t.value=!1,k.token&&(k.token=null)},M=()=>{console.log("Logging out..."),C(),o.value=Date.now(),t.value=!1,console.log("Logout complete"),console.log("currentUser after logout:",n.value),console.log("!currentUser value:",!n.value),a.push("/profile")},D=async()=>{if(!(!n.value||!n.value.id))try{const h=await k.getUserProfile();Object.assign(n.value,h.user||h.data),localStorage.getItem("currentUser")?localStorage.setItem("currentUser",JSON.stringify(n.value)):sessionStorage.setItem("currentUser",JSON.stringify(n.value))}catch(h){console.error("Error loading profile:",h)}},F=async h=>{try{r.value=!0,await k.changePassword(h)}catch(m){throw new Error(m.message||"–û—à–∏–±–∫–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø–∞—Ä–æ–ª—è")}finally{r.value=!1}},A=async h=>{try{r.value=!0;const m=await k.changeEmail(h);return n.value={...n.value,email:h.email,email_verified:!1},localStorage.getItem("currentUser")?localStorage.setItem("currentUser",JSON.stringify(n.value)):sessionStorage.setItem("currentUser",JSON.stringify(n.value)),m}catch(m){throw new Error(m.message||"–û—à–∏–±–∫–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ email")}finally{r.value=!1}},V=async h=>{try{r.value=!0;const m=await k.changeUsername(h);return n.value={...n.value,username:h.username},localStorage.getItem("currentUser")?localStorage.setItem("currentUser",JSON.stringify(n.value)):sessionStorage.setItem("currentUser",JSON.stringify(n.value)),m}catch(m){throw new Error(m.message||"–û—à–∏–±–∫–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ª–æ–≥–∏–Ω–∞")}finally{r.value=!1}},O=async h=>{try{if(r.value=!0,!confirm("–í—ã —É–≤–µ—Ä–µ–Ω—ã? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å! –í—Å–µ –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã.")){r.value=!1;return}await k.deleteAccount(h),C(),t.value=!1,alert("–ê–∫–∫–∞—É–Ω—Ç —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω"),a.replace("/")}catch(m){throw new Error(m.message||"–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∞–∫–∫–∞—É–Ω—Ç–∞")}finally{r.value=!1}};return J(async()=>{await g()}),(h,m)=>(i(),u("div",{class:"profile",key:o.value},[n.value?(i(),E(At,{key:1,user:n.value,onLogout:M,onUpdateUser:p,onChangePassword:F,onChangeEmail:A,onChangeUsername:V,onDeleteAccount:O},null,8,["user"])):(i(),u(z,{key:0},[t.value?d("",!0):(i(),E(le,{key:0,onLogin:S,onSwitchToRegister:m[0]||(m[0]=N=>t.value=!0),loading:r.value},null,8,["loading"])),t.value?(i(),E(be,{key:1,onRegister:b,onSwitchToLogin:m[1]||(m[1]=N=>t.value=!1),loading:r.value},null,8,["loading"])):d("",!0)],64))]))}},Bt=U(Vt,[["__scopeId","data-v-bd42bb36"]]);export{Bt as default};
